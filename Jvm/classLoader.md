###JVM运行和类加载全过程

- 为什么研究类加载全过程？
>有助于了解JVM运行原理

>更深入了解Java动态性（解热部署、动态加载）

####1、类加载机制
核心：类加载器

- JVM把class文件加载到内存，并对数据进行校验、解析和初始化，最终形成JVM可以直接使用的Java类型的过程。

- 加载：将class文件字节码内容加载到内存

并将这些静态数据转换成方法区的运行时数据结构，在堆中生成一个代表这个类的java.lang.Class对象，作为方法区类数据的访问入口。

####常量池里包含的常量
类名、方法名、参数名、变量名称、变量类型

通过解析将符号引用转换为直接引用

解析：解析完成就具备初始化

####初始化

- 类初始化阶段是执行类构造器<clinit>()方法的过程。类构造器方法是由编译器自动收集类中的所有类变量的赋值动作和静态语句块中的语句合并产生的。

- 当初始化一个类的时候，如果发现其父类还没有进行初始化、则需要先初始化其父类

- 虚拟机会保证一个类的<clinit>()方法在多线程环境中被正确加锁和同步

